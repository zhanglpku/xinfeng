<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pku.xinfeng.dao.WeatherMapper">
  <resultMap id="BaseResultMap" type="com.pku.xinfeng.model.Weather">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="cityId" jdbcType="VARCHAR" property="cityId" />
    <result column="cityName" jdbcType="VARCHAR" property="cityName" />
    <result column="aqi" jdbcType="VARCHAR" property="aqi" />
    <result column="co" jdbcType="VARCHAR" property="co" />
    <result column="o3" jdbcType="VARCHAR" property="o3" />
    <result column="so2" jdbcType="VARCHAR" property="so2" />
    <result column="no2" jdbcType="VARCHAR" property="no2" />
    <result column="pm10" jdbcType="VARCHAR" property="pm10" />
    <result column="pm25" jdbcType="VARCHAR" property="pm25" />
    <result column="wind_direction" jdbcType="VARCHAR" property="wind_direction" />
    <result column="wind_force" jdbcType="VARCHAR" property="wind_force" />
    <result column="temperature_day" jdbcType="VARCHAR" property="temperature_day" />
    <result column="temperature_night" jdbcType="VARCHAR" property="temperature_night" />
    <result column="weather_type" jdbcType="VARCHAR" property="weather_type" />
    <result column="weather_type_name" jdbcType="VARCHAR" property="weather_type_name" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    cityId, cityName, aqi, co, o3, so2, no2, pm10, pm25, wind_direction, wind_force, 
    temperature_day, temperature_night, weather_type, weather_type_name
  </sql>
  <select id="selectByExample" parameterType="com.pku.xinfeng.model.WeatherExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from weather
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <delete id="deleteByExample" parameterType="com.pku.xinfeng.model.WeatherExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from weather
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.pku.xinfeng.model.Weather">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into weather (cityId, cityName, aqi, 
      co, o3, so2, no2, 
      pm10, pm25, wind_direction, 
      wind_force, temperature_day, temperature_night, 
      weather_type, weather_type_name)
    values (#{cityId,jdbcType=VARCHAR}, #{cityName,jdbcType=VARCHAR}, #{aqi,jdbcType=VARCHAR}, 
      #{co,jdbcType=VARCHAR}, #{o3,jdbcType=VARCHAR}, #{so2,jdbcType=VARCHAR}, #{no2,jdbcType=VARCHAR}, 
      #{pm10,jdbcType=VARCHAR}, #{pm25,jdbcType=VARCHAR}, #{wind_direction,jdbcType=VARCHAR}, 
      #{wind_force,jdbcType=VARCHAR}, #{temperature_day,jdbcType=VARCHAR}, #{temperature_night,jdbcType=VARCHAR}, 
      #{weather_type,jdbcType=VARCHAR}, #{weather_type_name,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.pku.xinfeng.model.Weather">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into weather
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="cityId != null">
        cityId,
      </if>
      <if test="cityName != null">
        cityName,
      </if>
      <if test="aqi != null">
        aqi,
      </if>
      <if test="co != null">
        co,
      </if>
      <if test="o3 != null">
        o3,
      </if>
      <if test="so2 != null">
        so2,
      </if>
      <if test="no2 != null">
        no2,
      </if>
      <if test="pm10 != null">
        pm10,
      </if>
      <if test="pm25 != null">
        pm25,
      </if>
      <if test="wind_direction != null">
        wind_direction,
      </if>
      <if test="wind_force != null">
        wind_force,
      </if>
      <if test="temperature_day != null">
        temperature_day,
      </if>
      <if test="temperature_night != null">
        temperature_night,
      </if>
      <if test="weather_type != null">
        weather_type,
      </if>
      <if test="weather_type_name != null">
        weather_type_name,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="cityId != null">
        #{cityId,jdbcType=VARCHAR},
      </if>
      <if test="cityName != null">
        #{cityName,jdbcType=VARCHAR},
      </if>
      <if test="aqi != null">
        #{aqi,jdbcType=VARCHAR},
      </if>
      <if test="co != null">
        #{co,jdbcType=VARCHAR},
      </if>
      <if test="o3 != null">
        #{o3,jdbcType=VARCHAR},
      </if>
      <if test="so2 != null">
        #{so2,jdbcType=VARCHAR},
      </if>
      <if test="no2 != null">
        #{no2,jdbcType=VARCHAR},
      </if>
      <if test="pm10 != null">
        #{pm10,jdbcType=VARCHAR},
      </if>
      <if test="pm25 != null">
        #{pm25,jdbcType=VARCHAR},
      </if>
      <if test="wind_direction != null">
        #{wind_direction,jdbcType=VARCHAR},
      </if>
      <if test="wind_force != null">
        #{wind_force,jdbcType=VARCHAR},
      </if>
      <if test="temperature_day != null">
        #{temperature_day,jdbcType=VARCHAR},
      </if>
      <if test="temperature_night != null">
        #{temperature_night,jdbcType=VARCHAR},
      </if>
      <if test="weather_type != null">
        #{weather_type,jdbcType=VARCHAR},
      </if>
      <if test="weather_type_name != null">
        #{weather_type_name,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.pku.xinfeng.model.WeatherExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select count(*) from weather
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update weather
    <set>
      <if test="record.cityId != null">
        cityId = #{record.cityId,jdbcType=VARCHAR},
      </if>
      <if test="record.cityName != null">
        cityName = #{record.cityName,jdbcType=VARCHAR},
      </if>
      <if test="record.aqi != null">
        aqi = #{record.aqi,jdbcType=VARCHAR},
      </if>
      <if test="record.co != null">
        co = #{record.co,jdbcType=VARCHAR},
      </if>
      <if test="record.o3 != null">
        o3 = #{record.o3,jdbcType=VARCHAR},
      </if>
      <if test="record.so2 != null">
        so2 = #{record.so2,jdbcType=VARCHAR},
      </if>
      <if test="record.no2 != null">
        no2 = #{record.no2,jdbcType=VARCHAR},
      </if>
      <if test="record.pm10 != null">
        pm10 = #{record.pm10,jdbcType=VARCHAR},
      </if>
      <if test="record.pm25 != null">
        pm25 = #{record.pm25,jdbcType=VARCHAR},
      </if>
      <if test="record.wind_direction != null">
        wind_direction = #{record.wind_direction,jdbcType=VARCHAR},
      </if>
      <if test="record.wind_force != null">
        wind_force = #{record.wind_force,jdbcType=VARCHAR},
      </if>
      <if test="record.temperature_day != null">
        temperature_day = #{record.temperature_day,jdbcType=VARCHAR},
      </if>
      <if test="record.temperature_night != null">
        temperature_night = #{record.temperature_night,jdbcType=VARCHAR},
      </if>
      <if test="record.weather_type != null">
        weather_type = #{record.weather_type,jdbcType=VARCHAR},
      </if>
      <if test="record.weather_type_name != null">
        weather_type_name = #{record.weather_type_name,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update weather
    set cityId = #{record.cityId,jdbcType=VARCHAR},
      cityName = #{record.cityName,jdbcType=VARCHAR},
      aqi = #{record.aqi,jdbcType=VARCHAR},
      co = #{record.co,jdbcType=VARCHAR},
      o3 = #{record.o3,jdbcType=VARCHAR},
      so2 = #{record.so2,jdbcType=VARCHAR},
      no2 = #{record.no2,jdbcType=VARCHAR},
      pm10 = #{record.pm10,jdbcType=VARCHAR},
      pm25 = #{record.pm25,jdbcType=VARCHAR},
      wind_direction = #{record.wind_direction,jdbcType=VARCHAR},
      wind_force = #{record.wind_force,jdbcType=VARCHAR},
      temperature_day = #{record.temperature_day,jdbcType=VARCHAR},
      temperature_night = #{record.temperature_night,jdbcType=VARCHAR},
      weather_type = #{record.weather_type,jdbcType=VARCHAR},
      weather_type_name = #{record.weather_type_name,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>

	<select id="getWeatherListByUserId" parameterType="java.lang.String" resultMap="BaseResultMap">
		select u.id,w.cityName,w.aqi,w.co,w.o3,w.so2,w.no2,w.pm10,w.pm25,
			w.temperature_day,w.temperature_night,w.wind_force,w.wind_direction,
			w.weather_type,w.weather_type_name 
		from user_weather u,weather w 
		where u.city=w.cityName and user_id=#{userId,jdbcType=VARCHAR}
	</select>
	<select id="getCityList" resultMap="BaseResultMap">
		select cityId,cityName
		from weather w 
	</select>
</mapper>